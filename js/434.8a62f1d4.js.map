{"version":3,"file":"js/434.8a62f1d4.js","mappings":"8/BAwDA,MAAMA,GAASC,EAAAA,EAAAA,MAEf,IAAIC,GAAWC,EAAAA,EAAAA,IAAI,MACfC,GAAYD,EAAAA,EAAAA,IAAI,MAChBE,GAAeF,EAAAA,EAAAA,IAAI,MAEvB,MAAMG,GAAWH,EAAAA,EAAAA,IAAI,IACfI,GAAWJ,EAAAA,EAAAA,IAAI,IACfK,GAAkBL,EAAAA,EAAAA,IAAI,IACtBM,GAAgBN,EAAAA,EAAAA,KAAI,GACpBO,GAAcP,EAAAA,EAAAA,IAAI,IAElBQ,EAAWA,KACbT,EAASU,MAAMC,MAAMC,UAAU,kBAC/BV,EAAUQ,MAAMG,UAAUC,IAAI,UAC9BX,EAAaO,MAAMG,UAAUE,OAAO,UACpCX,EAASM,MAAQ,GACjBL,EAASK,MAAQ,EAAE,EAGjBM,EAASA,KACXhB,EAASU,MAAMC,MAAMC,UAAU,iBAC/BT,EAAaO,MAAMG,UAAUC,IAAI,UACjCZ,EAAUQ,MAAMG,UAAUE,OAAO,UACjCX,EAASM,MAAQ,GACjBL,EAASK,MAAQ,GACjBJ,EAAgBI,MAAQ,EAAE,EAGxBO,EAAeC,UACjB,GAA6B,IAA1Bd,EAASM,MAAMS,QAA0C,IAA1Bd,EAASK,MAAMS,OAAa,CAC3D,MAAMC,QAAgBC,EAAAA,EAAAA,KAAW,qBAAqB,CACrDjB,SAASA,EAASM,MAClBL,SAASA,EAASK,QAEtBY,QAAQC,IAAIH,EAAOI,KAAKC,MACE,KAApBL,EAAOI,KAAKC,KACV3B,EAAO4B,KAAK,MAEhBnB,EAAcG,OAAQ,EACtBF,EAAYE,MAAQ,gBACpBiB,EAAAA,EAAAA,KAAS,KACLvB,EAASM,MAAQ,GACjBL,EAASK,MAAQ,EAAE,IAG3B,MACIH,EAAcG,OAAQ,EACtBF,EAAYE,MAAQ,iBACpBN,EAASM,MAAQ,GACjBL,EAASK,MAAQ,EAErB,EAGEkB,EAAgBV,UAClB,GAA6B,IAA1Bd,EAASM,MAAMS,QAA0C,IAA1Bd,EAASK,MAAMS,QAAiD,IAAjCb,EAAgBI,MAAMS,OACnF,GAAGd,EAASK,QAAUJ,EAAgBI,MAAM,CACxC,IAAIU,QAAeC,EAAAA,EAAAA,KAAW,wBAAwB,CACtDjB,SAASA,EAASM,MAClBL,SAASA,EAASK,SAEE,GAArBU,EAAOI,KAAKC,MACXlB,EAAcG,OAAQ,EACtBF,EAAYE,MAAQ,kBACpBN,EAASM,MAAQ,GACjBL,EAASK,MAAQ,GACjBJ,EAAgBI,MAAQ,MAExBmB,EAAAA,EAAAA,IAAU,CACNC,QAAS,OACTC,KAAM,YAEVf,IACAX,EAASK,MAAQ,GACjBJ,EAAgBI,MAAQ,GAE5B,MACIH,EAAcG,OAAQ,EACtBF,EAAYE,MAAQ,iBACpBL,EAASK,MAAQ,GACjBJ,EAAgBI,MAAQ,EAIhC,E,+rDCvIJ,MAAMsB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://web/./src/views/Login.vue","webpack://web/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n    <div class=\"box\">\r\n        <div class=\"container2\">\r\n        <div class=\"form-box\" ref=\"form_box\">\r\n            <!-- 注册 -->\r\n            <div class=\"register-box hidden\" ref=\"register_box\">\r\n                <h1>register</h1>\r\n                <input type=\"text\" placeholder=\"用户名\" v-model=\"username\">\r\n                <input type=\"password\" placeholder=\"密码\" v-model=\"password\">\r\n                <input type=\"password\" placeholder=\"确认密码\" v-model=\"confirmPassword\">\r\n                <button @click=\"handleregist\">注册</button>\r\n            </div>\r\n            <!-- 登录 -->\r\n            <div class=\"login-box\" ref=\"login_box\">\r\n                <h1>login</h1>\r\n                <input type=\"text\" placeholder=\"用户名\" v-model=\"username\">\r\n                <input type=\"password\" placeholder=\"密码\" v-model=\"password\">\r\n                <button @click=\"handleLogin\">登录</button>\r\n            </div>\r\n        </div>\r\n        <div class=\"con-box left\">\r\n            <h2>欢迎来到<span>新知道</span></h2>\r\n            <p>快来看看当下最新的<span>新闻/商品</span>吧</p>\r\n            <img src=\"../assets/img/sun.png\" alt=\"\">\r\n            <p>已有账号</p>\r\n            <button @click=\"login\">去登录</button>\r\n        </div>\r\n        <div class=\"con-box right\">\r\n            <h2>欢迎来到<span>新知道</span></h2>\r\n            <p>快来看看当下最新的<span>新闻/商品</span>吧</p>\r\n            <img src=\"../assets/img/night.png\" alt=\"\">\r\n            <p>没有账号？</p>\r\n            <button @click=\"register\">去注册</button>\r\n        </div>\r\n    </div>\r\n\r\n    <el-dialog v-model=\"dialogVisible\" title=\"提示\" width=\"30%\" draggable>\r\n    <span>{{confirmText}}</span>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"dialogVisible = false\">\r\n          确认\r\n        </el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref,nextTick} from 'vue'\r\nimport {useRouter} from 'vue-router'\r\nimport axios from 'axios'\r\nimport { ElMessage } from 'element-plus'\r\nconst router = useRouter()\r\n\r\nlet form_box = ref(null)\r\nlet login_box = ref(null)\r\nlet register_box = ref(null)\r\n\r\nconst username = ref('')\r\nconst password = ref('')\r\nconst confirmPassword = ref('')\r\nconst dialogVisible = ref(false)\r\nconst confirmText = ref('')\r\n\r\nconst register =(()=>{\r\n    form_box.value.style.transform='translateX(80%)';\r\n    login_box.value.classList.add('hidden');\r\n    register_box.value.classList.remove('hidden');\r\n    username.value = ''\r\n    password.value = ''\r\n})\r\n\r\nconst login = (()=>{\r\n    form_box.value.style.transform='translateX(0%)';\r\n    register_box.value.classList.add('hidden');\r\n    login_box.value.classList.remove('hidden');\r\n    username.value = ''\r\n    password.value = ''\r\n    confirmPassword.value = ''\r\n})\r\n\r\nconst handleLogin = (async()=>{\r\n    if(username.value.length !== 0 && password.value.length !== 0){\r\n       const result =  await axios.post('/webapi/user/login',{\r\n        username:username.value,\r\n        password:password.value\r\n    })\r\n    console.log(result.data.code)\r\n       if(result.data.code == 20000){\r\n            router.push('/')\r\n       }else{\r\n        dialogVisible.value = true\r\n        confirmText.value = '您输入的账号或者密码错误'\r\n        nextTick(()=>{\r\n            username.value = ''\r\n            password.value = ''\r\n        })\r\n       }\r\n    }else{\r\n        dialogVisible.value = true\r\n        confirmText.value = '账号或密码为空，请重新输入！'\r\n        username.value = ''\r\n        password.value = ''\r\n\r\n    }\r\n})\r\n\r\nconst handleregist = (async ()=>{\r\n    if(username.value.length !== 0 && password.value.length !== 0 && confirmPassword.value.length !== 0){\r\n        if(password.value === confirmPassword.value){\r\n            let result = await axios.post('/webapi/user/register',{\r\n            username:username.value,\r\n            password:password.value\r\n        })\r\n        if(result.data.code == -2){\r\n            dialogVisible.value = true\r\n            confirmText.value = '用户名已存在，请确认后再次输入'\r\n            username.value = ''\r\n            password.value = ''\r\n            confirmPassword.value = ''\r\n        }else{\r\n            ElMessage({\r\n                message: '注册成功',\r\n                type: 'success',\r\n            })\r\n            login()\r\n            password.value = ''\r\n            confirmPassword.value = ''\r\n        }\r\n        }else{\r\n            dialogVisible.value = true\r\n            confirmText.value = '两次输入的密码不一致，请重试'\r\n            password.value = ''\r\n            confirmPassword.value = ''\r\n        }\r\n    }else{\r\n        \r\n    }\r\n})\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.box{\r\n    height: 100vh;\r\n    /* 弹性布局 水平+垂直居中 */\r\n    display: flex ;\r\n    justify-content: center;\r\n    align-items: center;\r\n    /* 渐变背景 */\r\n    background: linear-gradient(200deg,#f3e7e9,#e3eeff);\r\n}\r\n.container2{\r\n    background-color: #fff;\r\n    width: 650px;\r\n    height: 415px;\r\n    border-radius: 5px;\r\n    /* 阴影 */\r\n    box-shadow: 5px 5px 5px rgba(0,0,0,0.1);\r\n    /* 相对定位 */\r\n    position: relative;\r\n}\r\n.form-box{\r\n    /* 绝对定位 */\r\n    position: absolute;\r\n    top: -10%;\r\n    left: 5%;\r\n    background-color: #d3b7d8;\r\n    width: 320px;\r\n    height: 500px;\r\n    border-radius: 5px;\r\n    box-shadow: 2px 0 10px rgba(0,0,0,0.1);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 2;\r\n    /* 动画过渡 加速后减速 */\r\n    transition: 0.5s ease-in-out;\r\n}\r\n.register-box,.login-box{\r\n    /* 弹性布局 垂直排列 */\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    width: 100%;\r\n}\r\n.hidden{\r\n    display: none;\r\n    transition: 0.5s;\r\n}\r\nh1{\r\n    text-align: center;\r\n    margin-bottom: 25px;\r\n    /* 大写 */\r\n    text-transform: uppercase;\r\n    color: #fff;\r\n    /* 字间距 */\r\n    letter-spacing: 5px;\r\n}\r\ninput{\r\n    background-color: transparent;\r\n    width: 70%;\r\n    color: #fff;\r\n    border: none;\r\n    /* 下边框样式 */\r\n    border-bottom: 1px solid rgba(255,255,255,0.4);\r\n    padding: 10px 0;\r\n    text-indent: 10px;\r\n    margin: 8px 0;\r\n    font-size: 14px;\r\n    letter-spacing: 2px;\r\n}\r\ninput::placeholder{\r\n    color: #fff;\r\n}\r\ninput:focus{\r\n    color: #a262ad;\r\n    outline: none;\r\n    border-bottom: 1px solid #a262ad80;\r\n    transition: 0.5s;\r\n}\r\ninput:focus::placeholder{\r\n    opacity: 0;\r\n}\r\n.form-box button{\r\n    width: 70%;\r\n    margin-top: 35px;\r\n    background-color: #f6f6f6;\r\n    outline: none;\r\n    border-radius: 8px;\r\n    padding: 13px;\r\n    color: #a262ad;\r\n    letter-spacing: 2px;\r\n    border: none;\r\n    cursor: pointer;\r\n}\r\n.form-box button:hover{\r\n    background-color: #a262ad;\r\n    color: #f6f6f6;\r\n    transition: background-color 0.5s ease;\r\n}\r\n.con-box{\r\n    width: 50%;\r\n    /* 弹性布局 垂直排列 居中 */\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    /* 绝对定位 居中 */\r\n    position: absolute;\r\n    top: 50%;\r\n    transform: translateY(-50%);\r\n}\r\n.con-box.left{\r\n    left: -2%;\r\n}\r\n.con-box.right{\r\n    right: -2%;\r\n}\r\n.con-box h2{\r\n    color: #8e9aaf;\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n    letter-spacing: 3px;\r\n    text-align: center;\r\n    margin-bottom: 4px;\r\n}\r\n.con-box p{\r\n    font-size: 12px;\r\n    letter-spacing: 2px;\r\n    color: #8e9aaf;\r\n    text-align: center;\r\n}\r\n.con-box span{\r\n    color: #d3b7d8;\r\n}\r\n.con-box img{\r\n    width: 150px;\r\n    height: 150px;\r\n    opacity: 0.9;\r\n    margin: 40px 0;\r\n}\r\n.con-box button{\r\n    margin-top: 3%;\r\n    background-color: #fff;\r\n    color: #a262ad;\r\n    border: 1px solid #d3b7d8;\r\n    padding: 6px 10px;\r\n    border-radius: 5px;\r\n    letter-spacing: 1px;\r\n    outline: none;\r\n    cursor: pointer;\r\n}\r\n.con-box button:hover{\r\n    background-color: #d3b7d8;\r\n    color: #fff;\r\n}\r\n</style>","import script from \"./Login.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Login.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=106d64ec&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\node全栈\\\\全栈 - 副本\\\\web\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-106d64ec\"]])\n\nexport default __exports__"],"names":["router","useRouter","form_box","ref","login_box","register_box","username","password","confirmPassword","dialogVisible","confirmText","register","value","style","transform","classList","add","remove","login","handleLogin","async","length","result","axios","console","log","data","code","push","nextTick","handleregist","ElMessage","message","type","__exports__"],"sourceRoot":""}